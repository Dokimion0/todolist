{"ast":null,"code":"import _slicedToArray from\"C:/Users/lcy/Desktop/todolist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import{Navigate,Route,Routes}from'react-router-dom';import Auth from'../routes/Auth';import Todo from'../routes/Todo';import Home from'../routes/Home';import Navigation from'./Navigation';import{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userObj=_useState2[0],setUserObj=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoggedIn=_useState4[0],setIsLoggedIn=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),userSession=_useState6[0],setUserSession=_useState6[1];var userAuth=function userAuth(){axios.get('/api/isAuth').then(function(res){setIsLoggedIn(true);setUserObj({email:res.data.email});}).catch(function(err){console.log(err);});};useEffect(function(){userAuth();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoggedIn&&/*#__PURE__*/_jsx(Navigation,{setIsLoggedIn:setIsLoggedIn}),/*#__PURE__*/_jsx(Routes,{children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{isLoggedIn:isLoggedIn,setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/todo\",element:/*#__PURE__*/_jsx(Todo,{userObj:userObj})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/home\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Auth,{userAuth:userAuth,userObj:userObj})})})})]});}export default App;","map":{"version":3,"names":["Navigate","Route","Routes","Auth","Todo","Home","Navigation","useEffect","useState","axios","App","userObj","setUserObj","isLoggedIn","setIsLoggedIn","userSession","setUserSession","userAuth","get","then","res","email","data","catch","err","console","log"],"sources":["C:/Users/lcy/Desktop/todolist/client/src/components/App.js"],"sourcesContent":["import '../App.css';\r\nimport { Navigate, Route, Routes } from 'react-router-dom';\r\nimport Auth from '../routes/Auth';\r\nimport Todo from '../routes/Todo';\r\nimport Home from '../routes/Home';\r\nimport Navigation from './Navigation';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [userObj, setUserObj] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userSession, setUserSession] = useState(true);\r\n\r\n  const userAuth = () => {\r\n    axios\r\n      .get('/api/isAuth')\r\n      .then((res) => {\r\n        setIsLoggedIn(true);\r\n        setUserObj({\r\n          email: res.data.email,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    userAuth();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn && <Navigation setIsLoggedIn={setIsLoggedIn} />}\r\n      {/* <div\r\n        style={{\r\n          maxWidth: 890,\r\n          width: '100%',\r\n          margin: '0 auto',\r\n          marginTop: 60,\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n        }}\r\n      > */}\r\n        <Routes>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Route\r\n                path=\"/home\"\r\n                element={\r\n                  <Home isLoggedIn={isLoggedIn} setIsLoggedIn={setIsLoggedIn} />\r\n                }\r\n              />\r\n              <Route path=\"/todo\" element={<Todo userObj={userObj} />} />\r\n              <Route path=\"/\" element={<Navigate replace to=\"/home\" />} />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Route\r\n                path=\"/\"\r\n                element={<Auth userAuth={userAuth} userObj={userObj} />}\r\n              />\r\n            </>\r\n          )}\r\n        </Routes>\r\n      {/* </div> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"0HAAA,MAAO,YAAP,CACA,OAASA,QAAT,CAAmBC,KAAnB,CAA0BC,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,KAAP,KAAiB,gBAAjB,CACA,MAAOC,KAAP,KAAiB,gBAAjB,CACA,MAAOC,KAAP,KAAiB,gBAAjB,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,QAASC,IAAT,EAAe,CACb,cAA8BF,QAAQ,CAAC,IAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eACA,eAAoCJ,QAAQ,CAAC,KAAD,CAA5C,yCAAOK,UAAP,eAAmBC,aAAnB,eACA,eAAsCN,QAAQ,CAAC,IAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBR,KAAK,CACFS,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbN,aAAa,CAAC,IAAD,CAAb,CACAF,UAAU,CAAC,CACTS,KAAK,CAAED,GAAG,CAACE,IAAJ,CAASD,KADP,CAAD,CAAV,CAGD,CAPH,EAQGE,KARH,CAQS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAVH,EAWD,CAZD,CAcAjB,SAAS,CAAC,UAAM,CACdU,QAAQ,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,2BACGJ,UAAU,eAAI,KAAC,UAAD,EAAY,aAAa,CAAEC,aAA3B,EADjB,cAYI,KAAC,MAAD,WACGD,UAAU,cACT,wCACE,KAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,OAAO,cACL,KAAC,IAAD,EAAM,UAAU,CAAEA,UAAlB,CAA8B,aAAa,CAAEC,aAA7C,EAHJ,EADF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,IAAD,EAAM,OAAO,CAAEH,OAAf,EAA7B,EAPF,cAQE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,QAAD,EAAU,OAAO,KAAjB,CAAkB,EAAE,CAAC,OAArB,EAAzB,EARF,GADS,cAYT,sCACE,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cAAE,KAAC,IAAD,EAAM,QAAQ,CAAEM,QAAhB,CAA0B,OAAO,CAAEN,OAAnC,EAFX,EADF,EAbJ,EAZJ,GADF,CAqCD,CAED,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}